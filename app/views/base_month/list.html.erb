<h1>勤怠の基準月一覧</h1>

<%= link_to '基準月データ初期', { :controller => :monthly_working, :action => 'init_base_month', :back_to => request.env['REQUEST_URI']}, :confirm => '基準月データを初期化します。よろしいですか?', :method => :post %>
<br/>
<br/>
<%= paginate(@base_months) %>

<table class="list_table">
  <tr>
    <th>No</th>
    <th><%=getShortName('base_months', 'report_month')%></th> 
    <th><%=getShortName('base_months', 'start_date')%></th> 
    <th><%=getShortName('base_months', 'end_date')%></th> 
    <th>アクション</th>
  </tr>

<% @base_months.each_index do |idx| base_month = @base_months[idx] %>
  <% if base_month.start_date <= Date.today and base_month.end_date >= Date.today %>
    <% color = "#8fbc8f" %>
  <% else %>
    <% color = "#ffffff" %>
  <% end %>
  <tr style="background-color: <%= color %>;">
    <td align="center"><%=h (idx+1) %></td>
    <td align="center"><%=h base_month.report_month %></td>
    <td align="center"><%=h base_month.start_date.to_date %></td>
    <td align="center"><%=h base_month.end_date.to_date %></td>
    <% if false %>
    <td align="center"><%=h base_month.last_flg %></td>
    <td align="center"><%=h base_month.current_flg %></td>
    <% end %>
    <td>
      <%= link_to '表示', :action => 'show', :id => base_month %>, 
      <%= link_to '変更', :action => 'edit', :id => base_month %>, 
      <%= link_to '削除', { :action => 'destroy', :id => base_month }, :confirm => 'この情報を削除します。よろしいですか?', :method => :post %>
    </td>
  <tr>
  <% end %>
</table>


<br/>
<%= paginate(@base_months) %>

<br />

